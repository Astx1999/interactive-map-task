{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{observer}from\"mobx-react-lite\";import{RootStoreContext}from\"../../stores/RootStore\";import classnames from\"classnames\";import CrossIcon from\"../CrossIcon/CrossIcon\";import styles from'./ListItem.module.scss';import ConfirmModal from\"../ConfirmModal/ConfirmModal\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ListItem=observer(_ref=>{let{item,index}=_ref;const[IsModalOpen,setIsModalOpen]=useState(false);const{listStore:{setActiveItem,activeItem,deleteItem}}=useContext(RootStoreContext);const isActive=activeItem&&activeItem.lat===item.lat&&activeItem.lng===item.lng;const handleDeleteModal=event=>{setIsModalOpen(true);event.stopPropagation();};const handleDelete=event=>{if(isActive){setActiveItem(null);}deleteItem(index);handleCloseModal();};const handleCloseModal=()=>{setIsModalOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:classnames(styles.root,{[styles.active]:isActive}),onClick:()=>{setActiveItem(item);},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.lat,children:[\"Lat: \",item.lat]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.lng,children:[\"Lng: \",item.lng]})]}),/*#__PURE__*/_jsx(CrossIcon,{type:\"secondary\",onClick:handleDeleteModal}),/*#__PURE__*/_jsx(ConfirmModal,{isOpen:IsModalOpen,isPortal:true,className:styles.modal,question:\"Do you want to delete the location?\",handleAddLocation:handleDelete,handleClosePopup:handleCloseModal})]});});export default ListItem;","map":{"version":3,"names":["React","useState","useContext","observer","RootStoreContext","classnames","CrossIcon","styles","ConfirmModal","jsxs","_jsxs","jsx","_jsx","ListItem","_ref","item","index","IsModalOpen","setIsModalOpen","listStore","setActiveItem","activeItem","deleteItem","isActive","lat","lng","handleDeleteModal","event","stopPropagation","handleDelete","handleCloseModal","className","root","active","onClick","children","type","isOpen","isPortal","modal","question","handleAddLocation","handleClosePopup"],"sources":["/Users/astghik/WebstormProjects/interactive-map-task/src/components/ListItem/ListItem.js"],"sourcesContent":["import React, {useState, useContext} from \"react\"\nimport {observer} from \"mobx-react-lite\";\nimport {RootStoreContext} from \"../../stores/RootStore\";\nimport classnames from \"classnames\";\nimport CrossIcon from \"../CrossIcon/CrossIcon\";\nimport styles from './ListItem.module.scss';\nimport ConfirmModal from \"../ConfirmModal/ConfirmModal\";\n\n\nconst ListItem = observer(({item, index}) => {\n\n    const [IsModalOpen, setIsModalOpen] = useState(false)\n\n    const {\n        listStore: {\n            setActiveItem,\n            activeItem,\n            deleteItem,\n        }\n    } = useContext(RootStoreContext)\n\n    const isActive = activeItem && activeItem.lat === item.lat && activeItem.lng === item.lng;\n\n    const handleDeleteModal = (event) => {\n        setIsModalOpen(true)\n        event.stopPropagation();\n    }\n\n    const handleDelete = (event) => {\n        if (isActive) {\n            setActiveItem(null);\n        }\n        deleteItem(index);\n        handleCloseModal()\n    }\n\n    const handleCloseModal = () => {\n        setIsModalOpen(false)\n    }\n\n    return (\n        <div className={classnames(styles.root, {[styles.active]: isActive})} onClick={() => {\n            setActiveItem(item)\n        }}>\n            <div>\n                <p className={styles.lat}>Lat: {item.lat}</p>\n                <p className={styles.lng}>Lng: {item.lng}</p>\n            </div>\n            <CrossIcon type=\"secondary\" onClick={handleDeleteModal}/>\n\n            <ConfirmModal\n                isOpen={IsModalOpen}\n                isPortal\n                className={styles.modal}\n                question=\"Do you want to delete the location?\"\n                handleAddLocation={handleDelete}\n                handleClosePopup={handleCloseModal}\n            />\n\n        </div>\n    );\n});\n\nexport default ListItem;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,UAAU,KAAO,OAAO,CACjD,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,gBAAgB,KAAO,wBAAwB,CACvD,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAGxD,KAAM,CAAAC,QAAQ,CAAGV,QAAQ,CAACW,IAAA,EAAmB,IAAlB,CAACC,IAAI,CAAEC,KAAK,CAAC,CAAAF,IAAA,CAEpC,KAAM,CAACG,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CACFkB,SAAS,CAAE,CACPC,aAAa,CACbC,UAAU,CACVC,UACJ,CACJ,CAAC,CAAGpB,UAAU,CAACE,gBAAgB,CAAC,CAEhC,KAAM,CAAAmB,QAAQ,CAAGF,UAAU,EAAIA,UAAU,CAACG,GAAG,GAAKT,IAAI,CAACS,GAAG,EAAIH,UAAU,CAACI,GAAG,GAAKV,IAAI,CAACU,GAAG,CAEzF,KAAM,CAAAC,iBAAiB,CAAIC,KAAK,EAAK,CACjCT,cAAc,CAAC,IAAI,CAAC,CACpBS,KAAK,CAACC,eAAe,CAAC,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIF,KAAK,EAAK,CAC5B,GAAIJ,QAAQ,CAAE,CACVH,aAAa,CAAC,IAAI,CAAC,CACvB,CACAE,UAAU,CAACN,KAAK,CAAC,CACjBc,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAED,KAAM,CAAAA,gBAAgB,CAAGA,CAAA,GAAM,CAC3BZ,cAAc,CAAC,KAAK,CAAC,CACzB,CAAC,CAED,mBACIR,KAAA,QAAKqB,SAAS,CAAE1B,UAAU,CAACE,MAAM,CAACyB,IAAI,CAAE,CAAC,CAACzB,MAAM,CAAC0B,MAAM,EAAGV,QAAQ,CAAC,CAAE,CAACW,OAAO,CAAEA,CAAA,GAAM,CACjFd,aAAa,CAACL,IAAI,CAAC,CACvB,CAAE,CAAAoB,QAAA,eACEzB,KAAA,QAAAyB,QAAA,eACIzB,KAAA,MAAGqB,SAAS,CAAExB,MAAM,CAACiB,GAAI,CAAAW,QAAA,EAAC,OAAK,CAACpB,IAAI,CAACS,GAAG,EAAI,CAAC,cAC7Cd,KAAA,MAAGqB,SAAS,CAAExB,MAAM,CAACkB,GAAI,CAAAU,QAAA,EAAC,OAAK,CAACpB,IAAI,CAACU,GAAG,EAAI,CAAC,EAC5C,CAAC,cACNb,IAAA,CAACN,SAAS,EAAC8B,IAAI,CAAC,WAAW,CAACF,OAAO,CAAER,iBAAkB,CAAC,CAAC,cAEzDd,IAAA,CAACJ,YAAY,EACT6B,MAAM,CAAEpB,WAAY,CACpBqB,QAAQ,MACRP,SAAS,CAAExB,MAAM,CAACgC,KAAM,CACxBC,QAAQ,CAAC,qCAAqC,CAC9CC,iBAAiB,CAAEZ,YAAa,CAChCa,gBAAgB,CAAEZ,gBAAiB,CACtC,CAAC,EAED,CAAC,CAEd,CAAC,CAAC,CAEF,cAAe,CAAAjB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}