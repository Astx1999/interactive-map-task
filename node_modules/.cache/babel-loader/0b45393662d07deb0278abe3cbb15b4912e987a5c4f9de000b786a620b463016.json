{"ast":null,"code":"var _jsxFileName = \"/Users/astghik/WebstormProjects/interactive-map-task/src/components/FileUploadButton/FileUploadButton.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useRef } from 'react';\nimport styles from './FileUploadButton.module.scss';\nimport { observer } from \"mobx-react-lite\";\nimport { RootStoreContext } from \"../../stores/RootStore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUploadButton = _s(observer(_c = _s(() => {\n  _s();\n  const fileInputRef = useRef(null);\n  const {\n    listStore: {\n      addItems\n    }\n  } = useContext(RootStoreContext);\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = event => {\n        const result = event.target.result;\n        const lines = result.split('\\n').map(line => line.trim());\n\n        // Exclude the header row\n        const parsedData = lines.slice(1).map(line => {\n          const [lat, lng] = line.split(',');\n          return {\n            lat,\n            lng\n          };\n        });\n\n        // Filter out empty lines\n        const filteredData = parsedData.filter(item => item.lat && item.lng);\n        addItems(filteredData);\n      };\n      reader.readAsText(file);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"file-upload\",\n      className: styles.button,\n      children: \"Import Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      id: \"file-upload\",\n      accept: \".csv, .xlsx, .xls\",\n      ref: fileInputRef,\n      style: {\n        display: 'none'\n      },\n      onChange: handleFileSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 13\n  }, this);\n}, \"DJGu80RQ9rIoEZ+nfM+M3G2TjWg=\")), \"DJGu80RQ9rIoEZ+nfM+M3G2TjWg=\");\n_c2 = FileUploadButton;\nexport default FileUploadButton;\nvar _c, _c2;\n$RefreshReg$(_c, \"FileUploadButton$observer\");\n$RefreshReg$(_c2, \"FileUploadButton\");","map":{"version":3,"names":["React","useContext","useRef","styles","observer","RootStoreContext","jsxDEV","_jsxDEV","FileUploadButton","_s","_c","fileInputRef","listStore","addItems","handleFileSelect","e","file","target","files","reader","FileReader","onload","event","result","lines","split","map","line","trim","parsedData","slice","lat","lng","filteredData","filter","item","readAsText","className","root","children","htmlFor","button","fileName","_jsxFileName","lineNumber","columnNumber","type","id","accept","ref","style","display","onChange","_c2","$RefreshReg$"],"sources":["/Users/astghik/WebstormProjects/interactive-map-task/src/components/FileUploadButton/FileUploadButton.js"],"sourcesContent":["import React, {useContext, useRef} from 'react';\nimport styles from './FileUploadButton.module.scss'\nimport {observer} from \"mobx-react-lite\";\nimport {RootStoreContext} from \"../../stores/RootStore\";\n\nconst FileUploadButton = observer(() => {\n        const fileInputRef = useRef(null);\n\n        const {\n            listStore: {\n                addItems\n            }\n        } = useContext(RootStoreContext)\n\n        const handleFileSelect = (e) => {\n            const file = e.target.files[0];\n            if (file) {\n                const reader = new FileReader();\n                reader.onload = (event) => {\n                    const result = event.target.result;\n                    const lines = result.split('\\n').map(line => line.trim());\n\n                    // Exclude the header row\n                    const parsedData = lines.slice(1).map(line => {\n                        const [lat, lng] = line.split(',');\n                        return {lat, lng};\n                    });\n\n                    // Filter out empty lines\n                    const filteredData = parsedData.filter(item => item.lat && item.lng);\n\n\n                    addItems(filteredData);\n                };\n                reader.readAsText(file);\n            }\n        };\n\n        return (\n            <div className={styles.root}>\n\n                <label htmlFor=\"file-upload\" className={styles.button}>\n                    Import Data\n                </label>\n                <input\n                    type=\"file\"\n                    id=\"file-upload\"\n                    accept=\".csv, .xlsx, .xls\"\n                    ref={fileInputRef}\n                    style={{display: 'none'}}\n                    onChange={handleFileSelect}\n                />\n            </div>\n        );\n    }\n);\n\nexport default FileUploadButton;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,MAAM,QAAO,OAAO;AAC/C,OAAOC,MAAM,MAAM,gCAAgC;AACnD,SAAQC,QAAQ,QAAO,iBAAiB;AACxC,SAAQC,gBAAgB,QAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExD,MAAMC,gBAAgB,GAAAC,EAAA,CAAGL,QAAQ,CAAAM,EAAA,GAAAD,EAAA,CAAC,MAAM;EAAAA,EAAA;EAChC,MAAME,YAAY,GAAGT,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAM;IACFU,SAAS,EAAE;MACPC;IACJ;EACJ,CAAC,GAAGZ,UAAU,CAACI,gBAAgB,CAAC;EAEhC,MAAMS,gBAAgB,GAAIC,CAAC,IAAK;IAC5B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,EAAE;MACN,MAAMG,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,MAAM,GAAIC,KAAK,IAAK;QACvB,MAAMC,MAAM,GAAGD,KAAK,CAACL,MAAM,CAACM,MAAM;QAClC,MAAMC,KAAK,GAAGD,MAAM,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC;;QAEzD;QACA,MAAMC,UAAU,GAAGL,KAAK,CAACM,KAAK,CAAC,CAAC,CAAC,CAACJ,GAAG,CAACC,IAAI,IAAI;UAC1C,MAAM,CAACI,GAAG,EAAEC,GAAG,CAAC,GAAGL,IAAI,CAACF,KAAK,CAAC,GAAG,CAAC;UAClC,OAAO;YAACM,GAAG;YAAEC;UAAG,CAAC;QACrB,CAAC,CAAC;;QAEF;QACA,MAAMC,YAAY,GAAGJ,UAAU,CAACK,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACJ,GAAG,IAAII,IAAI,CAACH,GAAG,CAAC;QAGpEnB,QAAQ,CAACoB,YAAY,CAAC;MAC1B,CAAC;MACDd,MAAM,CAACiB,UAAU,CAACpB,IAAI,CAAC;IAC3B;EACJ,CAAC;EAED,oBACIT,OAAA;IAAK8B,SAAS,EAAElC,MAAM,CAACmC,IAAK;IAAAC,QAAA,gBAExBhC,OAAA;MAAOiC,OAAO,EAAC,aAAa;MAACH,SAAS,EAAElC,MAAM,CAACsC,MAAO;MAAAF,QAAA,EAAC;IAEvD;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACRtC,OAAA;MACIuC,IAAI,EAAC,MAAM;MACXC,EAAE,EAAC,aAAa;MAChBC,MAAM,EAAC,mBAAmB;MAC1BC,GAAG,EAAEtC,YAAa;MAClBuC,KAAK,EAAE;QAACC,OAAO,EAAE;MAAM,CAAE;MACzBC,QAAQ,EAAEtC;IAAiB;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC,iCACL,CAAC;AAACQ,GAAA,GAlDI7C,gBAAgB;AAoDtB,eAAeA,gBAAgB;AAAC,IAAAE,EAAA,EAAA2C,GAAA;AAAAC,YAAA,CAAA5C,EAAA;AAAA4C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}